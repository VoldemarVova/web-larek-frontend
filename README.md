# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## MVP
В проекте применяется архитектурный шаблон MVP (Model-View-Presenter), который помогает эффективно организовать код и разделить его на логические компоненты.

### Класс Api
Класс Api используется в шаблоне MVP для взаимодействия с сервером.

constructor(baseUrl: string, options: RequestInit = {}) - Конструктор класса Api с параметрами baseUrl и options инициализирует объект Api для взаимодействия с внешним API.

<li>get - Метод для выполнения GET-запроса к API.
<li>post - Метод для выполнения POST-запроса к API.
<li>handleResponse - Метод для обработки ответа от сервера.

### Класс View
Класс View в паттерне MVP играет ключевую роль, поскольку он отвечает за отображение данных пользователю и обработку пользовательских действий.

constructor(container: HTMLElement) - Конструктор с параметром container: HTMLElement используется для инициализации объекта представления (View) с указанием элемента HTML, в который будет встроен пользовательский интерфейс.

<li>render - Метод для отображения данных на пользовательском интерфейсе.
<li>toggleClass - Метод для переключения класса CSS элемента.
<li>setDisabled - Метод для установки состояния disabled для элемента.
<li>setText - Метод для установки текстового содержимого элемента.
<li>setVisible - Метод для установки видимости элемента.
<li>setHidden - Метод для установки скрытности элемента.
<li>setImage - Метод для установки изображения элемента.
<li>setPrice - Метод для установки цены элемента.

### Класс Card
Используется для представления карточек или элементов в пользовательском интерфейсе.

constructor(protected blockName: string, container: HTMLElement, actions?: ICardActions) - Этот конструктор инициализирует объект карточки с указанием имени блока blockName, в котором она находится, HTML-элемента container, в который она будет встроена, и объекта actions, содержащего методы для управления карточкой. Параметр actions является необязательным и может быть опущен.

<li>setButtonOff - Метод для выключения кнопки на карточке.
<li>get id - Метод для получения идентификатора карточки.
<li>get title - Метод для получения заголовка карточки.
<li>set id - Метод для установки идентификатора карточки.
<li>set description - Метод для установки описания карточки.
<li>set image - Метод для установки изображения карточки.
<li>set title - Метод для установки заголовка карточки.
<li>set category - Метод для установки категории карточки.
<li>set price - Метод для установки цены карточки.
<li>set index - Метод для установки индекса карточки.

### Класс Form
Класс Form используется для управления формами в пользовательском интерфейсе для ввода данных и их отправки на сервер.

<li>onInputForm - Метод для обработки ввода данных в поля формы.
<li>valid - Метод для проверки валидности данных формы.
<li>errors - Метод для получения ошибок валидации.
<li>render - Метод для отображения формы.

### Класс Page
Класс Page используется для управления страницами в веб-приложении или других многопользовательских системах.

constructor(container: HTMLElement, protected events: IEvents) - Этот конструктор инициализирует объект страницы с указанием HTML-элемента container, в который будет встроена страница, а также объекта events, который представляет интерфейс для работы с событиями на странице.

<li>counter - Метод для отображения счетчика на странице.
<li>catalog - Метод для отображения каталога товаров на странице.

### Класс AppData
Класс AppData используется для хранения и управления состоянием приложения. В нем хранятся данные, которые доступны из разных частей приложения, а также методы для измменения и получения этих данных.

<li>setCatalog - Метод для установки каталога товаров.
<li>setPreview - Метод для установки данных предпросмотра заказа.
<li>setBasket - Метод для установки содержимого корзины покупок.
<li>isInBasket - Метод для проверки, находится ли товар в корзине.
<li>clearBasket - Метод для очистки корзины покупок.
<li>removeCard - Метод для удаления карточки из каталога.
<li>getTotal - Метод для получения общей суммы заказа.
<li>setTotal - Метод для установки общей суммы заказа.
<li>validateOrder - Метод для валидации данных заказа.
<li>setOrderField - Метод для установки значения поля заказа.

### Класс Basket
Используется для управления корзиной покупок в интернет-магазине. Он предоставляет методы для добавления, удаления товаров в корзине, а также для расчета общей стоимости товаров.

constructor(container: HTMLElement, protected events: EventEmitter) - Этот конструктор инициализирует объект корзины с указанием HTML-элемента container, который представляет собой контейнер корзины в пользовательском интерфейсе, и экземпляра класса EventEmitter, который будет использоваться для работы с событиями.

<li>set items - Метод для получения списка товаров в корзине.
<li>set selected - Метод для установления выбранной кнопки оформления заказа.
<li>set total - Метод для установки общей суммы заказа.

### Класс Order
Используется для представления заказа в интернет-магазине. Он содержит информацию о методе оплаты, адресе доставки, электронной почте и номере телефона.

constructor(container: HTMLFormElement, events: IEvents) - Этот конструктор инициализирует объект заказа с указанием HTML-формы container, которая представляет собой контейнер заказа в пользовательском интерфейсе, и объекта events, который предоставляет интерфейс для работы с событиями.

<li>set payment - Метод для установки способа оплаты заказа.
<li>set address - Метод для установки адреса доставки заказа.
<li>set email - Метод для установки адреса электронной почты заказчика.
<li>set phone - Метод для установки номера телефона заказчика.

### Класс Success
Используется для представления страницы, которая отображается пользователю после успешного оформления заказа.

constructor(container: HTMLElement, actions: ISuccessActions) - Этот конструктор инициализирует объект страницы успешного завершения с указанием HTML-элемента container, в который будет встроена страница, и объекта actions, который представляет методы действий для страницы успешного завершения.

<li>onClick - Метод для обработки события клика на элементе успешного завершения.

### Класс CatalogAPI
Класс CatalogAPI используется для взаимодействия с API каталога товаров. Он предоставляет методы для получения данных о товарах из каталога, отправки запросов на сервер и обработки полученных ответов.

constructor(cdn: string, baseUrl: string, options: RequestInit) - В конструкторе сохраняются параметры cdn, baseUrl и options, которые будут использоваться при выполнении запросов к API каталога товаров.

<li>getProductItem - Метод для получения информации о товаре.
<li>getProductList - Метод для получения списка товаров из каталога.
<li>postOrder - Метод для отправки данных заказа.

### Типы

export interface ICard {
id: string,
description: string,
image: string,
title: string,
category: string,
price: number,
index: number,
total: number,
button?: string,
}

export interface IBasketView {
items: HTMLElement[],
selected: HTMLElement[],
total: number
}

export interface IAppState {
catalog: ICard[],
basket: string[],
preview: string | null,
order: IOrder | null
}

export interface IOrderForm {
payment?: string,
email?: string,
phone?: string,
address?: string
}

export interface IOrder extends IOrderForm {
items: string[],
total: number
}

export interface IOrderResult {
id: string
}
